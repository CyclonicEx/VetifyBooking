{% extends 'booking/base.html' %}
{% load static %}

{% block title %}Documentos - Vetify{% endblock %}

{% block content %}
<div style="max-width: 1280px; margin: 0 auto; padding: 2rem;">
    
    <!-- Hero Section -->
    <div style="background: linear-gradient(135deg, #38bdf8 0%, #0284c7 100%);
                border-radius: 1.5rem;
                padding: 3rem 2rem;
                text-align: center;
                color: white;
                margin-bottom: 3rem;
                box-shadow: 0 8px 16px rgba(56, 189, 248, 0.3);">
        <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem; font-weight: 700;">ğŸ“š Recursos y Documentos</h1>
        <p style="font-size: 1.125rem; opacity: 0.95;">Descarga guÃ­as, informaciÃ³n y recursos Ãºtiles para el cuidado de tu mascota</p>
        
        <div style="margin-top: 2rem; display: inline-block; background: rgba(255,255,255,0.2); padding: 1rem 2rem; border-radius: 1rem; backdrop-filter: blur(10px);">
            <div style="font-size: 2.5rem; font-weight: 700;">{{ total_documents }}</div>
            <div style="font-size: 0.875rem; opacity: 0.9;">Documentos Disponibles</div>
        </div>
    </div>

    {% if documents %}
        {% for category, docs in documents_by_category.items %}
        <div style="background: white; border-radius: 1.5rem; padding: 2.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 2.5rem;">
            <h2 style="font-size: 1.875rem; color: #0f172a; font-weight: 700; margin-bottom: 2rem; display: flex; align-items: center; gap: 0.75rem;">
                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #dbeafe 0%, #bae6fd 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                    {{ docs.0.icon }}
                </div>
                {{ category }}
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 1.5rem;">
                {% for doc in docs %}
                <div style="border: 2px solid #e5e7eb; border-radius: 1.25rem; padding: 1.75rem; transition: all 0.3s; cursor: pointer;"
                     onmouseover="this.style.borderColor='#38bdf8'; this.style.boxShadow='0 8px 20px rgba(56,189,248,0.15)'; this.style.transform='translateY(-4px)'"
                     onmouseout="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none'; this.style.transform='translateY(0)'">
                    
                    <div style="display: flex; gap: 1.25rem; margin-bottom: 1.25rem;">
                        <div style="width: 70px; height: 70px; background: linear-gradient(135deg, #dbeafe 0%, #bae6fd 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; flex-shrink: 0;">
                            {{ doc.icon }}
                        </div>
                        <div style="flex: 1;">
                            <h3 style="font-size: 1.25rem; font-weight: 700; color: #0f172a; margin-bottom: 0.5rem;">{{ doc.title }}</h3>
                            <div style="display: flex; gap: 0.75rem; flex-wrap: wrap; font-size: 0.875rem; color: #64748b;">
                                <span>ğŸ“ {{ doc.get_file_size }}</span>
                                <span>ğŸ“… {{ doc.created_at|date:"d/m/Y" }}</span>
                            </div>
                        </div>
                    </div>
                    
                    {% if doc.description %}
                    <p style="color: #6b7280; font-size: 0.9375rem; line-height: 1.6; margin-bottom: 1.5rem;">{{ doc.description }}</p>
                    {% endif %}
                    
                    <div style="display: flex; gap: 0.75rem;">
                        <a href="{{ doc.file.url }}" target="_blank" 
                           style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.875rem; background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%); color: white; border-radius: 0.75rem; text-decoration: none; font-weight: 600; transition: all 0.3s;"
                           onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(2,132,199,0.3)'"
                           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                            ğŸ‘ï¸ Ver PDF
                        </a>
                        
                        <a href="{{ doc.file.url }}" download 
                           style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.875rem; background: white; color: #0284c7; border: 2px solid #0284c7; border-radius: 0.75rem; text-decoration: none; font-weight: 600; transition: all 0.3s;"
                           onmouseover="this.style.background='#f0f9ff'; this.style.transform='translateY(-2px)'"
                           onmouseout="this.style.background='white'; this.style.transform='translateY(0)'">
                            â¬‡ï¸ Descargar
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div style="background: white; border-radius: 1.5rem; padding: 4rem 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); text-align: center;">
            <div style="font-size: 5rem; margin-bottom: 1.5rem; opacity: 0.3;">ğŸ“„</div>
            <h3 style="font-size: 1.5rem; color: #0f172a; font-weight: 700; margin-bottom: 0.75rem;">No hay documentos disponibles</h3>
            <p style="color: #64748b; font-size: 1.125rem;">PrÃ³ximamente agregaremos recursos Ãºtiles para ti</p>
        </div>
    {% endif %}

    <!-- Call to Action -->
    <div style="margin-top: 3rem; text-align: center; background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%); padding: 3rem 2rem; border-radius: 1.5rem; box-shadow: 0 8px 20px rgba(2,132,199,0.3);">
        <h3 style="color: white; font-size: 1.75rem; margin-bottom: 1rem; font-weight: 700;">Â¿Tienes dudas sobre el cuidado de tu mascota?</h3>
        <p style="color: rgba(255,255,255,0.9); font-size: 1.125rem; margin-bottom: 2rem;">Agenda una consulta con nuestros veterinarios expertos</p>
        <a href="{% url 'booking' %}" style="display: inline-block; padding: 1rem 2.5rem; background: white; color: #0284c7; border-radius: 0.75rem; font-weight: 700; font-size: 1.125rem; text-decoration: none; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: all 0.3s;"
           onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.2)'"
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'">
            ğŸ“… Reservar Cita
        </a>
    </div>
</div>
{% endblock %}